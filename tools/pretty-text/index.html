<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>dibeneditto.com ⇒ tools ⇒ pretty-text</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="author" content="Lukas W. DiBeneditto">
        <meta name="created" content="2021-09-15">
        <meta name="description" content="A simple JavaScript application to make HTML or other text pretty and easier to read.">
        <meta name="keywords" content="_pretty-text">
        <meta name="modified" content="2023-04-16">
        <meta name="publisher" content="dibeneditto.com">
        <link rel="canonical" href="https://dibeneditto.com/">
        <link rel="home" href="https://dibeneditto.com/">
        <link rel="shortcut icon" href="/favicon.ico">
        <link rel="stylesheet" href="/include/styles/normalize.css">
        <link rel="stylesheet" href="/include/styles/fonts.css">
        <link rel="stylesheet" href="/include/styles/main.css">
        <script async src="/include/scripts/main.js" charset="utf-8"></script>
        <!--[if lt IE 9]><script async src="/include/scripts/html5shiv.js"></script><![endif]-->
        <script type="text/javascript">

            // debug status
            // if 0 then console quiet
            // if 1 then console verbose
            var debug = 1;

            // global variable for working on text
            var tempText = "";
            var character = "";
            var newCharacter = "";

            // --------------------------------------------------
            // checkAll function
            // --------------------------------------------------
            // changes checkmarks TO checkAll(false) OR checkAll(true)
            function checkAll(value) {
                if (debug == 1) {
                    console.log("--------------------------------------------------");
                    console.log("function checkAll");
                    console.log("--------------------------------------------------");
                }

                document.getElementById("chunkText").checked = value;
                document.getElementById("getFirstLetter").checked = value;
                document.getElementById("keepASCIIprintable").checked = value;
                document.getElementById("latexAddLeadingSlashes").checked = value;
                document.getElementById("latexMakeLaTeXPretty").checked = value;
                document.getElementById("latexUtf8ToLatex").checked = value;
                document.getElementById("removeEmptyLines").checked = value;
                document.getElementById("removeLeadingSpaces").checked = value;
                document.getElementById("removeTrailingSpaces").checked = value;
                document.getElementById("replaceChangeCase").checked = value;
                document.getElementById("replaceHtml").checked = value;
                document.getElementById("replaceMultipleSpaces").checked = value;
                document.getElementById("replaceNewLines").checked = value;
                document.getElementById("replaceSafeFileName").checked = value;
                document.getElementById("replaceTab").checked = value;
                document.getElementById("replaceX1WithY1").checked = value;
                document.getElementById("replaceXOrMoreNewLines").checked = value;
                document.getElementById("sortText").checked = value;
                document.getElementById("sortTextBrackets").checked = value;

            }
            // end checkAll function

            // --------------------------------------------------
            // sliceText function
            // --------------------------------------------------
            // slices text into chunks and inserts a separator into the text

            // Takes in a string of text and an optional chunk
            // size as arguments, to divide the input text
            // into multiple chunks, each of which is no longer
            // than the specified chunk size (or 7500
            // characters by default). The function returns a
            // single string that consists of all the chunks,
            // separated by a specified separator string.
            
            // when calling the function you can use either:
            // chunkSize not specified
            //     let slicedText1 = sliceText(inputText);
            //
            // OR
            //
            // chunksize specified
            //     let slicedText2 = sliceText(inputText, 6000);
            //
            // if the chunkSize is not specified it defaults
            // to 7500
            function sliceText(text, chunkSize = 7500) {
                // declare chunk array
                const chunks = [];
                
                // declare separator
                const separator = "\n\n\n----------------------------------------------------------------------\n\n\n";
            
                // initalize as empty string
                let chunk = '';
                
                // initalize to 0 to be used to keep track of
                // the size of the current chunk
                let currentChunkSize = 0;
                
                // initalize by splitting input text at spaces
                let words = text.split(' ');

                // iterate over the words array
                for (let i = 0; i < words.length; i++) {
                    // on each iteration the current word is
                    // stored in the word variable
                    let word = words[i];
                    
                    // check if the length of the current chunk
                    // plus the lenght of the current word is
                    // less than or equal to the chunk size.
                    // if it is the word is added to the
                    // current chunk, and the 'currentChunksize'
                    // is increased by the lenght of the word
                    // plus one (to account for the space).
                    // if the length of the current chunk plus
                    // the length of the current word is
                    // greater than the chunk size, the
                    // current chunk is added to the chunks
                    // array using the push method. The chunk
                    // variable is then reset to the current
                    // word, and the currentChunkSize is reset
                    // to the length of the current word plus one.
                    if (currentChunkSize + word.length <= chunkSize) {
                      chunk += word + ' ';
                      currentChunkSize += word.length + 1;
                    } else {
                      chunks.push(chunk.trim());
                      chunk = word + ' ';
                      currentChunkSize = word.length + 1;
                    }
                }
            
                // the last chunk is added to the chunks array
                // using the push method.
                chunks.push(chunk.trim());
            
                // the chunks array is joined into a single
                // string using the join method and the
                // separator string, and the result is
                // returned by the function.
                return chunks.join(separator);
            }
            // end sliceText function
            
            // --------------------------------------------------
            // removeDuplicates function
            // --------------------------------------------------
            // iterate over the array then add elements to a new array only if
            // they haven't been added already

            function removeDuplicates(array) {
                var uniqueArray = [];
                
                for (var i = 0; i < array.length; i++) {
                    if (uniqueArray.indexOf(array[i]) === -1) {
                        uniqueArray.push(array[i]);
                    }
                }
                
                return uniqueArray;
            }
            // end removeDuplicates function



            // --------------------------------------------------
            // main function
            // --------------------------------------------------
            function main() {
                if (debug == 1) {
                    console.log("--------------------------------------------------");
                    console.log("function main");
                    console.log("--------------------------------------------------");
                }

                // --------------------------------------------------
                // section: first
                // --------------------------------------------------

                // get text from textarea original
                // this should be first
                tempText = document.getElementById("original").value;
                
                // manage no user input
                // checks for falsy values, e.g., undefined, null, or empty string
                if (!tempText) {
                    tempText = "";
                }
                
                // --------------------------------------------------
                // section: remove
                // --------------------------------------------------

                // remove: any character that is not a printable ASCII, space, new line, or tab character.
                // keeps: [space]!"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~
                if (document.getElementById("keepASCIIprintable").checked == true) {
                    if (debug == 1) {
                        console.log("REMOVE: keepASCIIprintable");
                    }
                    // x20 hex = space character
                    // ' !"#$%&\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~'
                    // x7E hex = ~ (tilde) character
                    tempText = tempText.replace(/[^\x20-\x7E\n\t]/gm, "");
                }

                // remove: leading spaces. bug: no IE9 support
                if (document.getElementById("removeLeadingSpaces").checked == true) {
                    if (debug == 1) {
                        console.log("REMOVE: removeLeadingSpaces");
                    }
                    // no IE9 support
                    tempText = tempText.trimStart();
                    tempText = tempText.replace(/(\r|\n|\r\n) +/gm, "\n");
                }

                // remove: trailing spaces. bug: no IE9 support
                if (document.getElementById("removeTrailingSpaces").checked == true) {
                    if (debug == 1) {
                        console.log("REMOVE: removeTrailingSpaces");
                    }
                    tempText = tempText.replace(/ +(\r|\n|\r\n)/gm, "\n");
                    tempText = tempText.trimEnd();
                }
                
                // remove: empty lines. (Tip: also select remove leading and trailing spaces above, and select replace 1 or more new lines, with 1 new lines below.)
                if (document.getElementById("removeEmptyLines").checked == true) {
                    if (debug == 1) {
                        console.log("REMOVE: removeEmptyLines");
                    }
                    tempText = tempText.replace(/(\r|\n|\r\n){2,}/gm, "\n");
                }

                // --------------------------------------------------
                // section: replace
                // --------------------------------------------------

                // replace: change case to
                if (document.getElementById("replaceChangeCase").checked == true) {
                    if (debug == 1) {
                        console.log("REPLACE: replaceChangeCase");
                    }

                    if (document.getElementById("lowerCase").checked == true) {
                        if (debug == 1) {
                            console.log("REPLACE:     lowerCase");
                        }
                        tempText = tempText.toLocaleLowerCase();
                    }

                    if (document.getElementById("upperCase").checked == true) {
                        if (debug == 1) {
                            console.log("REPLACE:     upperCase");
                        }
                        tempText = tempText.toLocaleUpperCase();
                    }

                }

                // replace: HTML with new lines
                if (document.getElementById("replaceHtml").checked == true) {
                    if (debug == 1) {
                        console.log("REPLACE: replaceHtml");
                    }
                    tempText = tempText.replace(/\<[^\<\>]*\>/gm, "\n");
                }

                // replace: make safe file name. keep: hyphen, 0 to 9, A to Z, underscore, a to z
                if (document.getElementById("replaceSafeFileName").checked == true) {
                    if (debug == 1) {
                    console.log("REPLACE: replaceSafeFileName");
                    }
                    
                    // replace: new lines with space
                    tempText = tempText.replace(/(\r|\n|\r\n)/gm, " ");
                    
                    // replace: tab with space
                    tempText = tempText.replace(/\t/gm, " ");
                    
                    // replace: multiple spaces with just one space
                    // order correct
                    tempText = tempText.replace(/ +/gm, " ");
                    
                    // replace: multiple dots with just one dot
                    tempText = tempText.replace(/\.+/gm, ".");
                    
                    // this splits the string at the last period to capture filename.extension
                    // adapted from https://stackoverflow.com/questions/29825464/javascript-split-split-string-by-last-dot
                    arrayFileName = tempText.split(/\.(?=[^\.]+$)/);
                    
                    // for element 0 and elment 1 in arrayfileName
                    // trim, because sometimes there is spaces at the end of filenames
                    //     before the .extension
                    // replace any character except hyphen, 0 to 9, A to Z, underscore, a to z
                    //     with a underscore
                    // where arrayFileName[0] = filename portion
                    // where arrayFileName[1] = extension portion
                    arrayFileName[0] = arrayFileName[0].trim().replace(/[^\-0-9A-Z\_a-z]/gm, "_");
                    
                    // this catches when a user doesn't put in an extension so that it doesn't use the previous
                    try {
                        arrayFileName[1] = arrayFileName[1].trim().replace(/[^\-0-9A-Z\_a-z]/gm, "_");
                    } catch (error) {
                        console.log("REPLACE: replaceSafeFileName no extension");
                        arrayFileName[1] = "";
                    }
                    
                    // truncate the filename portion of filename.extension to 120 characters
                    arrayFileName[0] = arrayFileName[0].substring(0, 120);
                    
                    // truncate the extension portion of filename.extension to 6 characters
                    // max extension length should be no more than 6 characters
                    // see combine below
                    arrayFileName[1] = arrayFileName[1].substring(0, 6);
                    
                    // combine the two elements in arrayFileName to filename.extension
                    //     filename  at 120 characters
                    //     period    at 1 character
                    //     extension at 6 characters
                    //     total character length 127 characters
                    //
                    //     null terminating character is at the end of filename in the operating system
                    //     final character length 128 characters
                    //
                    // why? windows os filesystem
                    //     https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file
                    tempText = arrayFileName[0] + "." + arrayFileName[1];
                }


                // replace: multiple spaces with just one space
                if (document.getElementById("replaceMultipleSpaces").checked == true) {
                    if (debug == 1) {
                        console.log("REPLACE: replaceMultipleSpaces");
                    }
                    tempText = tempText.replace(/ +/gm, " ");
                }

                // replace: new lines with space
                if (document.getElementById("replaceNewLines").checked == true) {
                    if (debug == 1) {
                        console.log("REPLACE: replaceNewLines");
                    }
                    tempText = tempText.replace(/(\r|\n|\r\n)/gm, " ");
                }

                // replace: tab with space
                if (document.getElementById("replaceTab").checked == true) {
                    if (debug == 1) {
                        console.log("REPLACE: replaceTab");
                    }
                    tempText = tempText.replace(/\t/gm, " ");
                }

                // replace: simple X1 with Y1
                if (document.getElementById("replaceX1WithY1").checked == true) {
                    if (debug == 1) {
                        console.log("REPLACE: simple X1 with Y1");
                    }
                    tempText = tempText.replaceAll(X1.value, Y1.value);
                }
                
                // replace more than original new lines to changed new lines
                if (document.getElementById("replaceXOrMoreNewLines").checked == true) {
                    if (debug == 1) {
                        console.log("REPLACE: replaceXOrMoreNewLines");
                    }
                
                    // get number of original and changed lines
                    originalLines = parseInt(document.getElementById("originalLines").value);
                    changedLines = parseInt(document.getElementById("changedLines").value);
                
                    // set default values if input values are not valid numbers
                    if (isNaN(originalLines)) {
                        originalLines = 1;
                    }
                    if (isNaN(changedLines)) {
                        changedLines = 1;
                    }
                
                    // create changedLines string with specified number of new lines
                    changedLinesString = "\n".repeat(changedLines);
                
                    // replace original new lines with changed new lines
                    regex = new RegExp("\\n{" + originalLines + ",}", "gm");
                    tempText = tempText.replace(regex, changedLinesString);
                }


                // --------------------------------------------------
                // section: LaTex related
                // --------------------------------------------------

                // add leading slashes to each line
                if (document.getElementById("latexAddLeadingSlashes").checked == true) {
                    if (debug == 1) {
                        console.log("LATEX: latexAddLeadingSlashes");
                    }
                    tempText = tempText.replace(/$/gm, "\\\\ ");
                    tempText = tempText.replace(/\n/gm, "\n\\\\ ");
                }

                // make: LaTex Pretty. align, auto size [] and (), prevent numbered. eq.
                if (document.getElementById("latexMakeLaTeXPretty").checked == true) {
                    if (debug == 1) {
                        console.log("LATEX: latexMakeLaTeXPretty");
                    }
                    tempText = tempText.replace(/^/gm, "\\begin{align*} \n");
                    tempText = tempText.replace(/\[/gm, " \\left[ ");
                    tempText = tempText.replace(/\]/gm, " \\right] ");
                    tempText = tempText.replace(/\(/gm, " \\left( ");
                    tempText = tempText.replace(/\)/gm, " \\right) ");
                    tempText = tempText.replace(/\n/gm, " \\\\ \\nonumber \n");
                    tempText = tempText.replace(/\=/gm, " \& = ");
                    tempText = tempText.replace(/\{\\approx\}/gm, " \& \\ \{\\approx\} \\ ");
                    tempText = tempText.replace(/$/gm, "\n\\end{align*}");
                }

                // replace: most utf-8 characters with LaTeX equivalents except: # $ % &~ _ ^ \ { }
                if (document.getElementById("latexUtf8ToLatex").checked == true) {
                    if (debug == 1) {
                        console.log("LATEX: latexUtf8ToLatex");
                    }

                    tempText = tempText.replace(/\̓/gm, "\{\\textcommaabove\}");
                    tempText = tempText.replace(/\̔/gm, "\{\\textrevcommaabove\}");
                    tempText = tempText.replace(/\́/gm, "\{\\\'\}");
                    tempText = tempText.replace(/\̀/gm, "\{\\`\}");
                    tempText = tempText.replace(/\̆/gm, "\{\\u\}");
                    tempText = tempText.replace(/\̌/gm, "\{\\v\}");
                    tempText = tempText.replace(/\̊/gm, "\{\\r\}");
                    tempText = tempText.replace(/\̈/gm, "\{\\\"\}");
                    tempText = tempText.replace(/\̋/gm, "\{\\H\}");
                    tempText = tempText.replace(/\̃/gm, "\{\\~\}");
                    tempText = tempText.replace(/\̇/gm, "\{\\.\}");
                    tempText = tempText.replace(/\̸/gm, "\{\\textlstrikethru\}");
                    tempText = tempText.replace(/\̧/gm, "\{\\c\}");
                    tempText = tempText.replace(/\̨/gm, "\{\\k\}");
                    tempText = tempText.replace(/\̄/gm, "\{\\=\}");
                    tempText = tempText.replace(/\̍/gm, "\{\\|\}");
                    tempText = tempText.replace(/\̎/gm, "\{\\U\}");
                    tempText = tempText.replace(/\̍/gm, "\{\\textvbaraccent\}");
                    tempText = tempText.replace(/\̎/gm, "\{\\textdoublevbaraccent\}");
                    tempText = tempText.replace(/\̒/gm, "\{\\textturncommaabove\}");
                    tempText = tempText.replace(/\̕/gm, "\{\\textcommaabover\}");
                    tempText = tempText.replace(/\̚/gm, "\{\\textlangleabove\}");
                    tempText = tempText.replace(/\̽/gm, "\{\\textovercross\}");
                    tempText = tempText.replace(/\͆/gm, "\{\\overbridge\}");
                    tempText = tempText.replace(/\͊/gm, "\{\\crtilde\}");
                    tempText = tempText.replace(/\͊/gm, "\{\\textoverw\}");
                    tempText = tempText.replace(/\͋/gm, "\{\\dottedtilde\}");
                    tempText = tempText.replace(/\͌/gm, "\{\\doubletilde\}");
                    tempText = tempText.replace(/\͐/gm, "\{\\textrightarrowhead\}");
                    tempText = tempText.replace(/\͑/gm, "\{\\textlefthalfring\}");
                    tempText = tempText.replace(/\͗/gm, "\{\\textrighthalfring\}");
                    tempText = tempText.replace(/\͝/gm, "\{\\textdoublebreve\}");
                    tempText = tempText.replace(/\͞/gm, "\{\\textdoublemacron\}");
                    tempText = tempText.replace(/\̖/gm, "\{\\textsubgrave\}");
                    tempText = tempText.replace(/\̗/gm, "\{\\textsubacute\}");
                    tempText = tempText.replace(/\̘/gm, "\{\\textadvancing\}");
                    tempText = tempText.replace(/\̙/gm, "\{\\textretracting\}");
                    tempText = tempText.replace(/\̜/gm, "\{\\textsublhalfring\}");
                    tempText = tempText.replace(/\̝/gm, "\{\\textraising\}");
                    tempText = tempText.replace(/\̞/gm, "\{\\textlowering\}");
                    tempText = tempText.replace(/\̟/gm, "\{\\textsubplus\}");
                    tempText = tempText.replace(/\̠/gm, "\{\\textsubbar\}");
                    tempText = tempText.replace(/\̠/gm, "\{\\textsubminus\}");
                    tempText = tempText.replace(/\̩/gm, "\{\\textsyllabic\}");
                    tempText = tempText.replace(/\̪/gm, "\{\\textsubbridge\}");
                    tempText = tempText.replace(/\̫/gm, "\{\\textsubw\}");
                    tempText = tempText.replace(/\̬/gm, "\{\\textsubwedge\}");
                    tempText = tempText.replace(/\̯/gm, "\{\\textsubarch\}");
                    tempText = tempText.replace(/\̳/gm, "\{\\subdoublebar\}");
                    tempText = tempText.replace(/\̺/gm, "\{\\textinvsubbridge\}");
                    tempText = tempText.replace(/\̻/gm, "\{\\textsubsquare\}");
                    tempText = tempText.replace(/\̼/gm, "\{\\textseagull\}");
                    tempText = tempText.replace(/\͇/gm, "\{\\subdoublebar\}");
                    tempText = tempText.replace(/\͈/gm, "\{\\subdoublevert\}");
                    tempText = tempText.replace(/\͉/gm, "\{\\subcorner\}");
                    tempText = tempText.replace(/\͍/gm, "\{\\spreadlips\}");
                    tempText = tempText.replace(/\͎/gm, "\{\\whistle\}");
                    tempText = tempText.replace(/\͔/gm, "\{\\sublptr\}");
                    tempText = tempText.replace(/\͕/gm, "\{\\subrptr\}");
                    tempText = tempText.replace(/\͖/gm, "\{\\textrightuparrowhead\}");
                    tempText = tempText.replace(/\͟/gm, "\{\\textdoublemacronbelow\}");
                    tempText = tempText.replace(/\͢/gm, "\{\\sliding\}");
                    tempText = tempText.replace(/\̶/gm, "\{\\textlstrokethru\}");
                    tempText = tempText.replace(/\̷/gm, "\{\\textsstrikethru\}");
                    tempText = tempText.replace(/\̵/gm, "\{\\B\}");
                    tempText = tempText.replace(/\̉/gm, "\{\\h\}");
                    tempText = tempText.replace(/\̏/gm, "\{\\G\}");
                    tempText = tempText.replace(/\̐/gm, "\{\\textdotbreve\}");
                    tempText = tempText.replace(/\̑/gm, "\{\\t\}");
                    tempText = tempText.replace(/\̛/gm, "\{\\textrighthorn\}");
                    tempText = tempText.replace(/\̡/gm, "\{\\textpalhookbelow\}");
                    tempText = tempText.replace(/\̢/gm, "\{\\M\}");
                    tempText = tempText.replace(/\̣/gm, "\{\\d\}");
                    tempText = tempText.replace(/\̤/gm, "\{\\textsubumlaut\}");
                    tempText = tempText.replace(/\̥/gm, "\{\\textsubring\}");
                    tempText = tempText.replace(/\̦/gm, "\{\\textcommabelow\}");
                    tempText = tempText.replace(/\̭/gm, "\{\\textsubcircnum\}");
                    tempText = tempText.replace(/\̮/gm, "\{\\textsubbreve\}");
                    tempText = tempText.replace(/\̮/gm, "\{\\textundertie\}");
                    tempText = tempText.replace(/\̰/gm, "\{\\textsubtilde\}");
                    tempText = tempText.replace(/\̱/gm, "\{\\b\}");
                    tempText = tempText.replace(/\̴/gm, "\{\\textsuperimposetilde\}");
                    tempText = tempText.replace(/\̹/gm, "\{\\textsubrhalfring\}");
                    tempText = tempText.replace(/\͠/gm, "\{\\textdoubletilde\}");
                    tempText = tempText.replace(/\͡/gm, "\{\\texttoptiebar\}");
                    tempText = tempText.replace(/\‾/gm, "\{\\textoverline\}");
                    tempText = tempText.replace(/\‐/gm, "\{\\-\}");
                    tempText = tempText.replace(/\‑/gm, "\{\\-\}");
                    tempText = tempText.replace(/\‒/gm, "\{\\textendash\}");
                    tempText = tempText.replace(/\‒/gm, "\{\\--\}");
                    tempText = tempText.replace(/\–/gm, "\{\\textendash\}");
                    tempText = tempText.replace(/\–/gm, "\{\\--\}");
                    tempText = tempText.replace(/\—/gm, "\{\\textemdash\}");
                    tempText = tempText.replace(/\—/gm, "\{\\---\}");
                    tempText = tempText.replace(/\¡/gm, "\{\\textexclamdown\}");
                    tempText = tempText.replace(/\¿/gm, "\{\\textquestiondown\}");
                    tempText = tempText.replace(/\‽/gm, "\{\\textinterrobang\}");
                    tempText = tempText.replace(/\…/gm, "\{\\dots\}");
                    tempText = tempText.replace(/\·/gm, "\{\\textcentereddot\}");
                    tempText = tempText.replace(/\‘/gm, "\{\\textquoteleft\}");
                    tempText = tempText.replace(/\’/gm, "\{\\textquoteright\}");
                    tempText = tempText.replace(/\‚/gm, "\{\\quotesinglbase\}");
                    tempText = tempText.replace(/\‹/gm, "\{\\guilsinglleft\}");
                    tempText = tempText.replace(/\›/gm, "\{\\guilsinglright\}");
                    tempText = tempText.replace(/\“/gm, "\{\\textquotedblleft\}");
                    tempText = tempText.replace(/\”/gm, "\{\\textquotedblright\}");
                    tempText = tempText.replace(/\„/gm, "\{\\quotedblbase\}");
                    tempText = tempText.replace(/\«/gm, "\{\\guillemotleft\}");
                    tempText = tempText.replace(/\»/gm, "\{\\guillemotright\}");
                    tempText = tempText.replace(/\⁽/gm, "\{\\(\}");
                    tempText = tempText.replace(/\⁾/gm, "\{\\)\}");
                    tempText = tempText.replace(/\⌈/gm, "\{\\lceil\}");
                    tempText = tempText.replace(/\⌉/gm, "\{\\rceil\}");
                    tempText = tempText.replace(/\⌊/gm, "\{\\lfloor\}");
                    tempText = tempText.replace(/\⌋/gm, "\{\\rfloor\}");
                    tempText = tempText.replace(/\⟨/gm, "\{\\langle\}");
                    tempText = tempText.replace(/\⟩/gm, "\{\\rangle\}");
                    tempText = tempText.replace(/\§/gm, "\{\\textsection\}");
                    tempText = tempText.replace(/\§/gm, "\{\\S\}");
                    tempText = tempText.replace(/\¶/gm, "\{\\textparagraph\}");
                    tempText = tempText.replace(/\¶/gm, "\{\\P\}");
                    tempText = tempText.replace(/\‰/gm, "\{\\textperthousand\}");
                    tempText = tempText.replace(/\‱/gm, "\{\\textpertenthousand\}");
                    tempText = tempText.replace(/\†/gm, "\{\\dag\}");
                    tempText = tempText.replace(/\‡/gm, "\{\\ddag\}");
                    tempText = tempText.replace(/\•/gm, "\{\\textbullet\}");
                    tempText = tempText.replace(/\※/gm, "\{\\textreferencemark\}");
                    tempText = tempText.replace(/\`/gm, "\{\\textasciigrave\}");
                    tempText = tempText.replace(/\´/gm, "\{\\textasciiacute\}");
                    tempText = tempText.replace(/\¯/gm, "\{\\textasciimacron\}");
                    tempText = tempText.replace(/\¨/gm, "\{\\textasciidieresis\}");
                    tempText = tempText.replace(/\¸/gm, "\{\\textasciicedilla\}");
                    tempText = tempText.replace(/\ˈ/gm, "\{\\textprimstress\}");
                    tempText = tempText.replace(/\˥/gm, "\{\\tone5\}");
                    tempText = tempText.replace(/\˦/gm, "\{\\tone4\}");
                    tempText = tempText.replace(/\˧/gm, "\{\\tone3\}");
                    tempText = tempText.replace(/\˨/gm, "\{\\tone2\}");
                    tempText = tempText.replace(/\˩/gm, "\{\\tone1\}");
                    tempText = tempText.replace(/\°/gm, "\{\\textdegree\}");
                    tempText = tempText.replace(/\©/gm, "\{\\textcopyright\}");
                    tempText = tempText.replace(/\©/gm, "\{\\copyright\}");
                    tempText = tempText.replace(/\®/gm, "\{\\textregistered\}");
                    tempText = tempText.replace(/\←/gm, "\{\\leftarrow\}");
                    tempText = tempText.replace(/\→/gm, "\{\\rightarrow\}");
                    tempText = tempText.replace(/\↑/gm, "\{\\uparrow\}");
                    tempText = tempText.replace(/\↓/gm, "\{\\downarrow\}");
                    tempText = tempText.replace(/\↔/gm, "\{\\leftrightarrow\}");
                    tempText = tempText.replace(/\↔/gm, "\{\\D6\}");
                    tempText = tempText.replace(/\↕/gm, "\{\\updownarrow\}");
                    tempText = tempText.replace(/\↕/gm, "\{\\D7\}");
                    tempText = tempText.replace(/\↝/gm, "\{\\leadsto\}");
                    tempText = tempText.replace(/\⇌/gm, "\{\\rightleftharpoons\}");
                    tempText = tempText.replace(/\⇒/gm, "\{\\Rightarrow\}");
                    tempText = tempText.replace(/\⇔/gm, "\{\\Leftrightarrow\}");
                    tempText = tempText.replace(/\∀/gm, "\{\\forall\}");
                    tempText = tempText.replace(/\∁/gm, "\{\\complement\}");
                    tempText = tempText.replace(/\∂/gm, "\{\\partial\}");
                    tempText = tempText.replace(/\∃/gm, "\{\\exists\}");
                    tempText = tempText.replace(/\∄/gm, "\{\\nexists\}");
                    tempText = tempText.replace(/\∅/gm, "\{\\set\}");
                    tempText = tempText.replace(/\∆/gm, "\{\\Delta\}");
                    tempText = tempText.replace(/\∇/gm, "\{\\nabla\}");
                    tempText = tempText.replace(/\∈/gm, "\{\\in\}");
                    tempText = tempText.replace(/\∉/gm, "\{\\notin\}");
                    tempText = tempText.replace(/\∋/gm, "\{\\ni\}");
                    tempText = tempText.replace(/\∌/gm, "\{\\ni\}");
                    tempText = tempText.replace(/\∏/gm, "\{\\prod\}");
                    tempText = tempText.replace(/\∐/gm, "\{\\coprod\}");
                    tempText = tempText.replace(/\∑/gm, "\{\\sum\}");
                    tempText = tempText.replace(/\⁺/gm, "\{\\+\}");
                    tempText = tempText.replace(/\±/gm, "\{\\textpm\}");
                    tempText = tempText.replace(/\±/gm, "\{\\pm\}");
                    tempText = tempText.replace(/\÷/gm, "\{\\textdiv\}");
                    tempText = tempText.replace(/\÷/gm, "\{\\div\}");
                    tempText = tempText.replace(/\×/gm, "\{\\texttimes\}");
                    tempText = tempText.replace(/\×/gm, "\{\\times\}");
                    tempText = tempText.replace(/\</gm, "\{\\textless\}");
                    tempText = tempText.replace(/\≮/gm, "\{\\nless\}");
                    tempText = tempText.replace(/\⁼/gm, "\{\\=\}");
                    tempText = tempText.replace(/\≠/gm, "\{\\neq\}");
                    tempText = tempText.replace(/\>/gm, "\{\\textgreater\}");
                    tempText = tempText.replace(/\≯/gm, "\{\\ngtr\}");
                    tempText = tempText.replace(/\¬/gm, "\{\\textlogicalnot\}");
                    tempText = tempText.replace(/\¬/gm, "\{\\lnot\}");
                    tempText = tempText.replace(/\|/gm, "\{\\textbar\}");
                    tempText = tempText.replace(/\¦/gm, "\{\\textbrokenbar\}");
                    tempText = tempText.replace(/\−/gm, "\{\\textminus\}");
                    tempText = tempText.replace(/\⁻/gm, "\{\\-\}");
                    tempText = tempText.replace(/\∓/gm, "\{\\mp\}");
                    tempText = tempText.replace(/\∔/gm, "\{\\dotplus\}");
                    tempText = tempText.replace(/\∖/gm, "\{\\setminus\}");
                    tempText = tempText.replace(/\∗/gm, "\{\\ast\}");
                    tempText = tempText.replace(/\∘/gm, "\{\\circ\}");
                    tempText = tempText.replace(/\∙/gm, "\{\\bullet\}");
                    tempText = tempText.replace(/\√/gm, "\{\\surd\}");
                    tempText = tempText.replace(/\∝/gm, "\{\\propto\}");
                    tempText = tempText.replace(/\∞/gm, "\{\\infty\}");
                    tempText = tempText.replace(/\∠/gm, "\{\\angle\}");
                    tempText = tempText.replace(/\∡/gm, "\{\\measuredangle\}");
                    tempText = tempText.replace(/\∢/gm, "\{\\sphericalangle\}");
                    tempText = tempText.replace(/\∣/gm, "\{\\mid\}");
                    tempText = tempText.replace(/\∤/gm, "\{\\nmid\}");
                    tempText = tempText.replace(/\∥/gm, "\{\\parallel\}");
                    tempText = tempText.replace(/\∦/gm, "\{\\nparallel\}");
                    tempText = tempText.replace(/\∧/gm, "\{\\wedge\}");
                    tempText = tempText.replace(/\∨/gm, "\{\\vee\}");
                    tempText = tempText.replace(/\∩/gm, "\{\\cap\}");
                    tempText = tempText.replace(/\∪/gm, "\{\\cup\}");
                    tempText = tempText.replace(/\∫/gm, "\{\\int\}");
                    tempText = tempText.replace(/\∬/gm, "\{\\iint\}");
                    tempText = tempText.replace(/\∭/gm, "\{\\iiint\}");
                    tempText = tempText.replace(/\∮/gm, "\{\\oint\}");
                    tempText = tempText.replace(/\∴/gm, "\{\\therefore\}");
                    tempText = tempText.replace(/\∵/gm, "\{\\because\}");
                    tempText = tempText.replace(/\∼/gm, "\{\\sim\}");
                    tempText = tempText.replace(/\≁/gm, "\{\\nsim\}");
                    tempText = tempText.replace(/\∽/gm, "\{\\backsim\}");
                    tempText = tempText.replace(/\≀/gm, "\{\\wr\}");
                    tempText = tempText.replace(/\≃/gm, "\{\\simeq\}");
                    tempText = tempText.replace(/\≄/gm, "\{\\simeq\}");
                    tempText = tempText.replace(/\≅/gm, "\{\\cong\}");
                    tempText = tempText.replace(/\≇/gm, "\{\\ncong\}");
                    tempText = tempText.replace(/\≈/gm, "\{\\approx\}");
                    tempText = tempText.replace(/\≉/gm, "\{\\not\\approx\}");
                    tempText = tempText.replace(/\≊/gm, "\{\\approxeq\}");
                    tempText = tempText.replace(/\≍/gm, "\{\\asymp\}");
                    tempText = tempText.replace(/\≭/gm, "\{\\asymp\}");
                    tempText = tempText.replace(/\≎/gm, "\{\\Bumpeq\}");
                    tempText = tempText.replace(/\≏/gm, "\{\\bumpeq\}");
                    tempText = tempText.replace(/\≐/gm, "\{\\doteq\}");
                    tempText = tempText.replace(/\≑/gm, "\{\\doteqdot\}");
                    tempText = tempText.replace(/\≒/gm, "\{\\fallingdotseq\}");
                    tempText = tempText.replace(/\≓/gm, "\{\\risingdotseq\}");
                    tempText = tempText.replace(/\≖/gm, "\{\\eqcirc\}");
                    tempText = tempText.replace(/\≗/gm, "\{\\circeq\}");
                    tempText = tempText.replace(/\≜/gm, "\{\\triangleq\}");
                    tempText = tempText.replace(/\≡/gm, "\{\\equiv\}");
                    tempText = tempText.replace(/\≢/gm, "\{\\equiv\}");
                    tempText = tempText.replace(/\≤/gm, "\{\\leq\}");
                    tempText = tempText.replace(/\≰/gm, "\{\\nleq\}");
                    tempText = tempText.replace(/\≥/gm, "\{\\geq\}");
                    tempText = tempText.replace(/\≱/gm, "\{\\ngeq\}");
                    tempText = tempText.replace(/\≦/gm, "\{\\leqq\}");
                    tempText = tempText.replace(/\≧/gm, "\{\\geqq\}");
                    tempText = tempText.replace(/\≨/gm, "\{\\lneqq\}");
                    tempText = tempText.replace(/\≩/gm, "\{\\gneqq\}");
                    tempText = tempText.replace(/\≪/gm, "\{\\ll\}");
                    tempText = tempText.replace(/\≫/gm, "\{\\gg\}");
                    tempText = tempText.replace(/\≬/gm, "\{\\between\}");
                    tempText = tempText.replace(/\≲/gm, "\{\\lesssim\}");
                    tempText = tempText.replace(/\≴/gm, "\{\\lesssim\}");
                    tempText = tempText.replace(/\≳/gm, "\{\\gtrsim\}");
                    tempText = tempText.replace(/\≵/gm, "\{\\gtrsim\}");
                    tempText = tempText.replace(/\≶/gm, "\{\\lessgtr\}");
                    tempText = tempText.replace(/\≷/gm, "\{\\gtrless\}");
                    tempText = tempText.replace(/\≺/gm, "\{\\prec\}");
                    tempText = tempText.replace(/\⊀/gm, "\{\\nprec\}");
                    tempText = tempText.replace(/\≻/gm, "\{\\succ\}");
                    tempText = tempText.replace(/\⊁/gm, "\{\\nsucc\}");
                    tempText = tempText.replace(/\≼/gm, "\{\\preccurlyeq\}");
                    tempText = tempText.replace(/\⋠/gm, "\{\\preccurlyeq\}");
                    tempText = tempText.replace(/\≽/gm, "\{\\succcurlyeq\}");
                    tempText = tempText.replace(/\⋡/gm, "\{\\succcurlyeq\}");
                    tempText = tempText.replace(/\≾/gm, "\{\\precsim\}");
                    tempText = tempText.replace(/\≿/gm, "\{\\succsim\}");
                    tempText = tempText.replace(/\⊂/gm, "\{\\subset\}");
                    tempText = tempText.replace(/\⊄/gm, "\{\\subset\}");
                    tempText = tempText.replace(/\⊃/gm, "\{\\supset\}");
                    tempText = tempText.replace(/\⊅/gm, "\{\\supset\}");
                    tempText = tempText.replace(/\⊆/gm, "\{\\subseteq\}");
                    tempText = tempText.replace(/\⊈/gm, "\{\\nsubseteq\}");
                    tempText = tempText.replace(/\⊇/gm, "\{\\supseteq\}");
                    tempText = tempText.replace(/\⊉/gm, "\{\\nsupseteq\}");
                    tempText = tempText.replace(/\⊊/gm, "\{\\subsetneq\}");
                    tempText = tempText.replace(/\⊋/gm, "\{\\supsetneq\}");
                    tempText = tempText.replace(/\⊎/gm, "\{\\uplus\}");
                    tempText = tempText.replace(/\⊏/gm, "\{\\sqsubset\}");
                    tempText = tempText.replace(/\⊐/gm, "\{\\sqsupset\}");
                    tempText = tempText.replace(/\⊑/gm, "\{\\sqsubseteq\}");
                    tempText = tempText.replace(/\⋢/gm, "\{\\sqsubseteq\}");
                    tempText = tempText.replace(/\⊒/gm, "\{\\sqsupseteq\}");
                    tempText = tempText.replace(/\⋣/gm, "\{\\sqsupseteq\}");
                    tempText = tempText.replace(/\⊓/gm, "\{\\sqcap\}");
                    tempText = tempText.replace(/\⊔/gm, "\{\\sqcup\}");
                    tempText = tempText.replace(/\⊕/gm, "\{\\oplus\}");
                    tempText = tempText.replace(/\⊖/gm, "\{\\ominus\}");
                    tempText = tempText.replace(/\⊗/gm, "\{\\otimes\}");
                    tempText = tempText.replace(/\⊘/gm, "\{\\oslash\}");
                    tempText = tempText.replace(/\⊙/gm, "\{\\odot\}");
                    tempText = tempText.replace(/\⊚/gm, "\{\\circledcirc\}");
                    tempText = tempText.replace(/\⊛/gm, "\{\\circledast\}");
                    tempText = tempText.replace(/\⊝/gm, "\{\\circleddash\}");
                    tempText = tempText.replace(/\⊞/gm, "\{\\boxplus\}");
                    tempText = tempText.replace(/\⊟/gm, "\{\\boxminus\}");
                    tempText = tempText.replace(/\⊠/gm, "\{\\boxtimes\}");
                    tempText = tempText.replace(/\⊡/gm, "\{\\boxdot\}");
                    tempText = tempText.replace(/\⊢/gm, "\{\\vdash\}");
                    tempText = tempText.replace(/\⊣/gm, "\{\\dashv\}");
                    tempText = tempText.replace(/\⊤/gm, "\{\\top\}");
                    tempText = tempText.replace(/\⊥/gm, "\{\\bot\}");
                    tempText = tempText.replace(/\⊩/gm, "\{\\Vdash\}");
                    tempText = tempText.replace(/\⊮/gm, "\{\\nVdash\}");
                    tempText = tempText.replace(/\⊪/gm, "\{\\Vvdash\}");
                    tempText = tempText.replace(/\⊲/gm, "\{\\lhd\}");
                    tempText = tempText.replace(/\⋪/gm, "\{\\ntriangleleft\}");
                    tempText = tempText.replace(/\⊳/gm, "\{\\rhd\}");
                    tempText = tempText.replace(/\⋫/gm, "\{\\ntriangleright\}");
                    tempText = tempText.replace(/\⊴/gm, "\{\\unlhd\}");
                    tempText = tempText.replace(/\⋬/gm, "\{\\ntrianglelefteq\}");
                    tempText = tempText.replace(/\⊵/gm, "\{\\unrhd\}");
                    tempText = tempText.replace(/\⋭/gm, "\{\\ntrianglerighteq\}");
                    tempText = tempText.replace(/\⊸/gm, "\{\\multimap\}");
                    tempText = tempText.replace(/\⊺/gm, "\{\\intercal\}");
                    tempText = tempText.replace(/\⊻/gm, "\{\\veebar\}");
                    tempText = tempText.replace(/\⊼/gm, "\{\\barwedge\}");
                    tempText = tempText.replace(/\⋀/gm, "\{\\bigwedge\}");
                    tempText = tempText.replace(/\⋁/gm, "\{\\bigvee\}");
                    tempText = tempText.replace(/\⋂/gm, "\{\\bigcap\}");
                    tempText = tempText.replace(/\⋃/gm, "\{\\bigcup\}");
                    tempText = tempText.replace(/\⋄/gm, "\{\\diamond\}");
                    tempText = tempText.replace(/\⋅/gm, "\{\\cdot\}");
                    tempText = tempText.replace(/\⋆/gm, "\{\\star\}");
                    tempText = tempText.replace(/\⋇/gm, "\{\\divideontimes\}");
                    tempText = tempText.replace(/\⋈/gm, "\{\\bowtie\}");
                    tempText = tempText.replace(/\⋉/gm, "\{\\ltimes\}");
                    tempText = tempText.replace(/\⋊/gm, "\{\\rtimes\}");
                    tempText = tempText.replace(/\⋋/gm, "\{\\leftthreetimes\}");
                    tempText = tempText.replace(/\⋌/gm, "\{\\rightthreetimes\}");
                    tempText = tempText.replace(/\⋍/gm, "\{\\backsimeq\}");
                    tempText = tempText.replace(/\⋎/gm, "\{\\curlyvee\}");
                    tempText = tempText.replace(/\⋏/gm, "\{\\curlywedge\}");
                    tempText = tempText.replace(/\⋐/gm, "\{\\Subset\}");
                    tempText = tempText.replace(/\⋑/gm, "\{\\Supset\}");
                    tempText = tempText.replace(/\⋒/gm, "\{\\Cap\}");
                    tempText = tempText.replace(/\⋓/gm, "\{\\Cup\}");
                    tempText = tempText.replace(/\⋔/gm, "\{\\pitchfork\}");
                    tempText = tempText.replace(/\⋖/gm, "\{\\lessdot\}");
                    tempText = tempText.replace(/\⋗/gm, "\{\\gtrdot\}");
                    tempText = tempText.replace(/\⋘/gm, "\{\\lll\}");
                    tempText = tempText.replace(/\⋙/gm, "\{\\ggg\}");
                    tempText = tempText.replace(/\⋚/gm, "\{\\lesseqgtr\}");
                    tempText = tempText.replace(/\⋛/gm, "\{\\gtreqless\}");
                    tempText = tempText.replace(/\⋞/gm, "\{\\curlyeqprec\}");
                    tempText = tempText.replace(/\⋟/gm, "\{\\curlyeqsucc\}");
                    tempText = tempText.replace(/\⋦/gm, "\{\\lnsim\}");
                    tempText = tempText.replace(/\⋧/gm, "\{\\gnsim\}");
                    tempText = tempText.replace(/\⋨/gm, "\{\\precnsim\}");
                    tempText = tempText.replace(/\⋩/gm, "\{\\succnsim\}");
                    tempText = tempText.replace(/\⋮/gm, "\{\\vdots\}");
                    tempText = tempText.replace(/\⋯/gm, "\{\\cdots\}");
                    tempText = tempText.replace(/\⋱/gm, "\{\\ddots\}");
                    tempText = tempText.replace(/\■/gm, "\{\\6E\}");
                    tempText = tempText.replace(/\□/gm, "\{\\Box\}");
                    tempText = tempText.replace(/\▲/gm, "\{\\73\}");
                    tempText = tempText.replace(/\▼/gm, "\{\\74\}");
                    tempText = tempText.replace(/\◆/gm, "\{\\75\}");
                    tempText = tempText.replace(/\●/gm, "\{\\6C\}");
                    tempText = tempText.replace(/\◗/gm, "\{\\77\}");
                    tempText = tempText.replace(/\★/gm, "\{\\48\}");
                    tempText = tempText.replace(/\☎/gm, "\{\\25\}");
                    tempText = tempText.replace(/\☛/gm, "\{\\2A\}");
                    tempText = tempText.replace(/\☞/gm, "\{\\2B\}");
                    tempText = tempText.replace(/\♠/gm, "\{\\spadesuit\}");
                    tempText = tempText.replace(/\♡/gm, "\{\\heartsuit\}");
                    tempText = tempText.replace(/\♢/gm, "\{\\diamondsuit\}");
                    tempText = tempText.replace(/\♣/gm, "\{\\clubsuit\}");
                    tempText = tempText.replace(/\♥/gm, "\{\\AA\}");
                    tempText = tempText.replace(/\♦/gm, "\{\\A9\}");
                    tempText = tempText.replace(/\✁/gm, "\{\\21\}");
                    tempText = tempText.replace(/\✂/gm, "\{\\22\}");
                    tempText = tempText.replace(/\✃/gm, "\{\\23\}");
                    tempText = tempText.replace(/\✄/gm, "\{\\24\}");
                    tempText = tempText.replace(/\✆/gm, "\{\\26\}");
                    tempText = tempText.replace(/\✇/gm, "\{\\27\}");
                    tempText = tempText.replace(/\✈/gm, "\{\\28\}");
                    tempText = tempText.replace(/\✉/gm, "\{\\29\}");
                    tempText = tempText.replace(/\✌/gm, "\{\\2C\}");
                    tempText = tempText.replace(/\✍/gm, "\{\\2D\}");
                    tempText = tempText.replace(/\✎/gm, "\{\\2E\}");
                    tempText = tempText.replace(/\✏/gm, "\{\\2F\}");
                    tempText = tempText.replace(/\✐/gm, "\{\\30\}");
                    tempText = tempText.replace(/\✑/gm, "\{\\31\}");
                    tempText = tempText.replace(/\✒/gm, "\{\\32\}");
                    tempText = tempText.replace(/\✓/gm, "\{\\33\}");
                    tempText = tempText.replace(/\✔/gm, "\{\\34\}");
                    tempText = tempText.replace(/\✕/gm, "\{\\35\}");
                    tempText = tempText.replace(/\✖/gm, "\{\\36\}");
                    tempText = tempText.replace(/\✗/gm, "\{\\37\}");
                    tempText = tempText.replace(/\✘/gm, "\{\\38\}");
                    tempText = tempText.replace(/\✙/gm, "\{\\39\}");
                    tempText = tempText.replace(/\✚/gm, "\{\\3A\}");
                    tempText = tempText.replace(/\✛/gm, "\{\\3B\}");
                    tempText = tempText.replace(/\✜/gm, "\{\\3C\}");
                    tempText = tempText.replace(/\✝/gm, "\{\\3D\}");
                    tempText = tempText.replace(/\✞/gm, "\{\\3E\}");
                    tempText = tempText.replace(/\✟/gm, "\{\\3F\}");
                    tempText = tempText.replace(/\✠/gm, "\{\\40\}");
                    tempText = tempText.replace(/\✡/gm, "\{\\41\}");
                    tempText = tempText.replace(/\✢/gm, "\{\\42\}");
                    tempText = tempText.replace(/\✣/gm, "\{\\43\}");
                    tempText = tempText.replace(/\✤/gm, "\{\\44\}");
                    tempText = tempText.replace(/\✥/gm, "\{\\45\}");
                    tempText = tempText.replace(/\✦/gm, "\{\\46\}");
                    tempText = tempText.replace(/\✧/gm, "\{\\47\}");
                    tempText = tempText.replace(/\✩/gm, "\{\\49\}");
                    tempText = tempText.replace(/\✪/gm, "\{\\4A\}");
                    tempText = tempText.replace(/\✫/gm, "\{\\4B\}");
                    tempText = tempText.replace(/\✬/gm, "\{\\4C\}");
                    tempText = tempText.replace(/\✭/gm, "\{\\4D\}");
                    tempText = tempText.replace(/\✮/gm, "\{\\4E\}");
                    tempText = tempText.replace(/\✯/gm, "\{\\4F\}");
                    tempText = tempText.replace(/\✰/gm, "\{\\50\}");
                    tempText = tempText.replace(/\✱/gm, "\{\\51\}");
                    tempText = tempText.replace(/\✲/gm, "\{\\52\}");
                    tempText = tempText.replace(/\✳/gm, "\{\\53\}");
                    tempText = tempText.replace(/\✴/gm, "\{\\54\}");
                    tempText = tempText.replace(/\✵/gm, "\{\\55\}");
                    tempText = tempText.replace(/\✶/gm, "\{\\56\}");
                    tempText = tempText.replace(/\✷/gm, "\{\\57\}");
                    tempText = tempText.replace(/\✸/gm, "\{\\58\}");
                    tempText = tempText.replace(/\✹/gm, "\{\\59\}");
                    tempText = tempText.replace(/\✺/gm, "\{\\5A\}");
                    tempText = tempText.replace(/\✻/gm, "\{\\5B\}");
                    tempText = tempText.replace(/\✼/gm, "\{\\5C\}");
                    tempText = tempText.replace(/\✽/gm, "\{\\5D\}");
                    tempText = tempText.replace(/\✾/gm, "\{\\5E\}");
                    tempText = tempText.replace(/\✿/gm, "\{\\5F\}");
                    tempText = tempText.replace(/\❀/gm, "\{\\60\}");
                    tempText = tempText.replace(/\❁/gm, "\{\\61\}");
                    tempText = tempText.replace(/\❂/gm, "\{\\62\}");
                    tempText = tempText.replace(/\❃/gm, "\{\\63\}");
                    tempText = tempText.replace(/\❄/gm, "\{\\64\}");
                    tempText = tempText.replace(/\❅/gm, "\{\\65\}");
                    tempText = tempText.replace(/\❆/gm, "\{\\66\}");
                    tempText = tempText.replace(/\❇/gm, "\{\\67\}");
                    tempText = tempText.replace(/\❈/gm, "\{\\68\}");
                    tempText = tempText.replace(/\❉/gm, "\{\\69\}");
                    tempText = tempText.replace(/\❊/gm, "\{\\6A\}");
                    tempText = tempText.replace(/\❋/gm, "\{\\6B\}");
                    tempText = tempText.replace(/\❍/gm, "\{\\6D\}");
                    tempText = tempText.replace(/\❏/gm, "\{\\6F\}");
                    tempText = tempText.replace(/\❐/gm, "\{\\70\}");
                    tempText = tempText.replace(/\❑/gm, "\{\\71\}");
                    tempText = tempText.replace(/\❒/gm, "\{\\72\}");
                    tempText = tempText.replace(/\❖/gm, "\{\\76\}");
                    tempText = tempText.replace(/\❘/gm, "\{\\78\}");
                    tempText = tempText.replace(/\❙/gm, "\{\\79\}");
                    tempText = tempText.replace(/\❚/gm, "\{\\7A\}");
                    tempText = tempText.replace(/\❛/gm, "\{\\7B\}");
                    tempText = tempText.replace(/\❜/gm, "\{\\7C\}");
                    tempText = tempText.replace(/\❝/gm, "\{\\7D\}");
                    tempText = tempText.replace(/\❞/gm, "\{\\7E\}");
                    tempText = tempText.replace(/\❡/gm, "\{\\A1\}");
                    tempText = tempText.replace(/\❢/gm, "\{\\A2\}");
                    tempText = tempText.replace(/\❣/gm, "\{\\A3\}");
                    tempText = tempText.replace(/\❤/gm, "\{\\A4\}");
                    tempText = tempText.replace(/\❥/gm, "\{\\A5\}");
                    tempText = tempText.replace(/\❦/gm, "\{\\A6\}");
                    tempText = tempText.replace(/\❧/gm, "\{\\A7\}");
                    tempText = tempText.replace(/\➔/gm, "\{\\D4\}");
                    tempText = tempText.replace(/\➘/gm, "\{\\D8\}");
                    tempText = tempText.replace(/\➙/gm, "\{\\D9\}");
                    tempText = tempText.replace(/\➚/gm, "\{\\DA\}");
                    tempText = tempText.replace(/\➛/gm, "\{\\DB\}");
                    tempText = tempText.replace(/\➜/gm, "\{\\DC\}");
                    tempText = tempText.replace(/\➝/gm, "\{\\DD\}");
                    tempText = tempText.replace(/\➞/gm, "\{\\DE\}");
                    tempText = tempText.replace(/\➟/gm, "\{\\DF\}");
                    tempText = tempText.replace(/\➠/gm, "\{\\E0\}");
                    tempText = tempText.replace(/\➡/gm, "\{\\E1\}");
                    tempText = tempText.replace(/\➢/gm, "\{\\E2\}");
                    tempText = tempText.replace(/\➣/gm, "\{\\E3\}");
                    tempText = tempText.replace(/\➤/gm, "\{\\E4\}");
                    tempText = tempText.replace(/\➥/gm, "\{\\E5\}");
                    tempText = tempText.replace(/\➦/gm, "\{\\E6\}");
                    tempText = tempText.replace(/\➧/gm, "\{\\E7\}");
                    tempText = tempText.replace(/\➨/gm, "\{\\E8\}");
                    tempText = tempText.replace(/\➩/gm, "\{\\E9\}");
                    tempText = tempText.replace(/\➪/gm, "\{\\EA\}");
                    tempText = tempText.replace(/\➫/gm, "\{\\EB\}");
                    tempText = tempText.replace(/\➬/gm, "\{\\EC\}");
                    tempText = tempText.replace(/\➭/gm, "\{\\ED\}");
                    tempText = tempText.replace(/\➮/gm, "\{\\EE\}");
                    tempText = tempText.replace(/\➯/gm, "\{\\EF\}");
                    tempText = tempText.replace(/\➱/gm, "\{\\F1\}");
                    tempText = tempText.replace(/\➲/gm, "\{\\F2\}");
                    tempText = tempText.replace(/\➳/gm, "\{\\F3\}");
                    tempText = tempText.replace(/\➴/gm, "\{\\F4\}");
                    tempText = tempText.replace(/\➵/gm, "\{\\F5\}");
                    tempText = tempText.replace(/\➶/gm, "\{\\F6\}");
                    tempText = tempText.replace(/\➷/gm, "\{\\F7\}");
                    tempText = tempText.replace(/\➸/gm, "\{\\F8\}");
                    tempText = tempText.replace(/\➹/gm, "\{\\F9\}");
                    tempText = tempText.replace(/\➺/gm, "\{\\FA\}");
                    tempText = tempText.replace(/\➻/gm, "\{\\FB\}");
                    tempText = tempText.replace(/\➼/gm, "\{\\FC\}");
                    tempText = tempText.replace(/\➽/gm, "\{\\FD\}");
                    tempText = tempText.replace(/\➾/gm, "\{\\FE\}");
                    tempText = tempText.replace(/\♭/gm, "\{\\flat\}");
                    tempText = tempText.replace(/\♮/gm, "\{\\natural\}");
                    tempText = tempText.replace(/\♯/gm, "\{\\sharp\}");
                    tempText = tempText.replace(/\ː/gm, "\{\\textlengthmark\}");
                    tempText = tempText.replace(/\¤/gm, "\{\\textcurrency\}");
                    tempText = tempText.replace(/\¢/gm, "\{\\textcent\}");
                    tempText = tempText.replace(/\£/gm, "\{\\textsterling\}");
                    tempText = tempText.replace(/\£/gm, "\{\\pounds\}");
                    tempText = tempText.replace(/\¥/gm, "\{\\textyen\}");
                    tempText = tempText.replace(/\₡/gm, "\{\\textcolonmonetary\}");
                    tempText = tempText.replace(/\₤/gm, "\{\\textlira\}");
                    tempText = tempText.replace(/\₦/gm, "\{\\textnaira\}");
                    tempText = tempText.replace(/\₩/gm, "\{\\textwon\}");
                    tempText = tempText.replace(/\₫/gm, "\{\\textdong\}");
                    tempText = tempText.replace(/\€/gm, "\{\\euro\}");
                    tempText = tempText.replace(/\€/gm, "\{\\texteuro\}");
                    tempText = tempText.replace(/\⁰/gm, "\{\\0\}");
                    tempText = tempText.replace(/\¹/gm, "\{\\textonesuperior\}");
                    tempText = tempText.replace(/\①/gm, "\{\\AC\}");
                    tempText = tempText.replace(/\❶/gm, "\{\\B6\}");
                    tempText = tempText.replace(/\➀/gm, "\{\\C0\}");
                    tempText = tempText.replace(/\➊/gm, "\{\\CA\}");
                    tempText = tempText.replace(/\½/gm, "\{\\textonehalf\}");
                    tempText = tempText.replace(/\¼/gm, "\{\\textonequarter\}");
                    tempText = tempText.replace(/\⑩/gm, "\{\\B5\}");
                    tempText = tempText.replace(/\❿/gm, "\{\\BF\}");
                    tempText = tempText.replace(/\➉/gm, "\{\\C9\}");
                    tempText = tempText.replace(/\➓/gm, "\{\\D3\}");
                    tempText = tempText.replace(/\²/gm, "\{\\texttwosuperior\}");
                    tempText = tempText.replace(/\②/gm, "\{\\AD\}");
                    tempText = tempText.replace(/\❷/gm, "\{\\B7\}");
                    tempText = tempText.replace(/\➁/gm, "\{\\C1\}");
                    tempText = tempText.replace(/\➋/gm, "\{\\CB\}");
                    tempText = tempText.replace(/\³/gm, "\{\\textthreesuperior\}");
                    tempText = tempText.replace(/\③/gm, "\{\\AE\}");
                    tempText = tempText.replace(/\❸/gm, "\{\\B8\}");
                    tempText = tempText.replace(/\➂/gm, "\{\\C2\}");
                    tempText = tempText.replace(/\➌/gm, "\{\\CC\}");
                    tempText = tempText.replace(/\¾/gm, "\{\\textthreequarters\}");
                    tempText = tempText.replace(/\⁴/gm, "\{\\4\}");
                    tempText = tempText.replace(/\④/gm, "\{\\AF\}");
                    tempText = tempText.replace(/\❹/gm, "\{\\B9\}");
                    tempText = tempText.replace(/\➃/gm, "\{\\C3\}");
                    tempText = tempText.replace(/\➍/gm, "\{\\CD\}");
                    tempText = tempText.replace(/\⁵/gm, "\{\\5\}");
                    tempText = tempText.replace(/\⑤/gm, "\{\\B0\}");
                    tempText = tempText.replace(/\❺/gm, "\{\\BA\}");
                    tempText = tempText.replace(/\➄/gm, "\{\\C4\}");
                    tempText = tempText.replace(/\➎/gm, "\{\\CE\}");
                    tempText = tempText.replace(/\⁶/gm, "\{\\6\}");
                    tempText = tempText.replace(/\⑥/gm, "\{\\B1\}");
                    tempText = tempText.replace(/\❻/gm, "\{\\BB\}");
                    tempText = tempText.replace(/\➅/gm, "\{\\C5\}");
                    tempText = tempText.replace(/\➏/gm, "\{\\CF\}");
                    tempText = tempText.replace(/\⁷/gm, "\{\\7\}");
                    tempText = tempText.replace(/\⑦/gm, "\{\\B2\}");
                    tempText = tempText.replace(/\❼/gm, "\{\\BC\}");
                    tempText = tempText.replace(/\➆/gm, "\{\\C6\}");
                    tempText = tempText.replace(/\➐/gm, "\{\\D0\}");
                    tempText = tempText.replace(/\⁸/gm, "\{\\8\}");
                    tempText = tempText.replace(/\⑧/gm, "\{\\B3\}");
                    tempText = tempText.replace(/\❽/gm, "\{\\BD\}");
                    tempText = tempText.replace(/\➇/gm, "\{\\C7\}");
                    tempText = tempText.replace(/\➑/gm, "\{\\D1\}");
                    tempText = tempText.replace(/\⁹/gm, "\{\\9\}");
                    tempText = tempText.replace(/\⑨/gm, "\{\\B4\}");
                    tempText = tempText.replace(/\❾/gm, "\{\\BE\}");
                    tempText = tempText.replace(/\➈/gm, "\{\\C8\}");
                    tempText = tempText.replace(/\➒/gm, "\{\\D2\}");
                    tempText = tempText.replace(/\ª/gm, "\{\\textordfeminine\}");
                    tempText = tempText.replace(/\Å/gm, "\{\\AA\}");
                    tempText = tempText.replace(/\Æ/gm, "\{\\AE\}");
                    tempText = tempText.replace(/\ɐ/gm, "\{\\textturna\}");
                    tempText = tempText.replace(/\ɑ/gm, "\{\\textscripta\}");
                    tempText = tempText.replace(/\ɒ/gm, "\{\\textturnscripta\}");
                    tempText = tempText.replace(/\ʙ/gm, "\{\\textscb\}");
                    tempText = tempText.replace(/\ƀ/gm, "\{\\textcrb\}");
                    tempText = tempText.replace(/\Ɓ/gm, "\{\\textBhook\}");
                    tempText = tempText.replace(/\ɓ/gm, "\{\\texthtb\}");
                    tempText = tempText.replace(/\Ƈ/gm, "\{\\textChook\}");
                    tempText = tempText.replace(/\ƈ/gm, "\{\\texthtc\}");
                    tempText = tempText.replace(/\ɕ/gm, "\{\\textctc\}");
                    tempText = tempText.replace(/\Đ/gm, "\{\\DJ\}");
                    tempText = tempText.replace(/\đ/gm, "\{\\textcrd\}");
                    tempText = tempText.replace(/\Ð/gm, "\{\\DH\}");
                    tempText = tempText.replace(/\ʣ/gm, "\{\\textdzlig\}");
                    tempText = tempText.replace(/\ʥ/gm, "\{\\textdctzlig\}");
                    tempText = tempText.replace(/\ʤ/gm, "\{\\textdyoghlig\}");
                    tempText = tempText.replace(/\Ɖ/gm, "\{\\textDafrican\}");
                    tempText = tempText.replace(/\ɖ/gm, "\{\\textdtail\}");
                    tempText = tempText.replace(/\ɖ/gm, "\{\\textrtaild\}");
                    tempText = tempText.replace(/\Ɗ/gm, "\{\\textDhook\}");
                    tempText = tempText.replace(/\ɗ/gm, "\{\\texthtd\}");
                    tempText = tempText.replace(/\Ǝ/gm, "\{\\textEreversed\}");
                    tempText = tempText.replace(/\ǝ/gm, "\{\\texteturned\}");
                    tempText = tempText.replace(/\ə/gm, "\{\\textschwa\}");
                    tempText = tempText.replace(/\Ɛ/gm, "\{\\textEopen\}");
                    tempText = tempText.replace(/\ɛ/gm, "\{\\textepsilon\}");
                    tempText = tempText.replace(/\ɘ/gm, "\{\\textreve\}");
                    tempText = tempText.replace(/\ɚ/gm, "\{\\textrhookschwa\}");
                    tempText = tempText.replace(/\ɜ/gm, "\{\\textrevepsilon\}");
                    tempText = tempText.replace(/\ɝ/gm, "\{\\textrhookrevepsilon\}");
                    tempText = tempText.replace(/\ɞ/gm, "\{\\textcloserevepsilon\}");
                    tempText = tempText.replace(/\ʚ/gm, "\{\\textcloseepsilon\}");
                    tempText = tempText.replace(/\ɤ/gm, "\{\\textramshorns\}");
                    tempText = tempText.replace(/\Ƒ/gm, "\{\\textFhook\}");
                    tempText = tempText.replace(/\ƒ/gm, "\{\\textflorin\}");
                    tempText = tempText.replace(/\ɡ/gm, "\{\\textscriptg\}");
                    tempText = tempText.replace(/\ɢ/gm, "\{\\textscg\}");
                    tempText = tempText.replace(/\ɠ/gm, "\{\\texthtg\}");
                    tempText = tempText.replace(/\ʛ/gm, "\{\\texthtscg\}");
                    tempText = tempText.replace(/\Ɣ/gm, "\{\\textGammaafrican\}");
                    tempText = tempText.replace(/\ɣ/gm, "\{\\textgammalatinsmall\}");
                    tempText = tempText.replace(/\ɣ/gm, "\{\\textgamma\}");
                    tempText = tempText.replace(/\ʰ/gm, "\{\\h\}");
                    tempText = tempText.replace(/\Ħ/gm, "\{\\textHbar\}");
                    tempText = tempText.replace(/\ħ/gm, "\{\\textcrh\}");
                    tempText = tempText.replace(/\ʜ/gm, "\{\\textsch\}");
                    tempText = tempText.replace(/\ƕ/gm, "\{\\texthvlig\}");
                    tempText = tempText.replace(/\ƕ/gm, "\{\\hv\}");
                    tempText = tempText.replace(/\ɦ/gm, "\{\\texthth\}");
                    tempText = tempText.replace(/\ʱ/gm, "\{\\texthth\}");
                    tempText = tempText.replace(/\ɧ/gm, "\{\\texththeng\}");
                    tempText = tempText.replace(/\ⁱ/gm, "\{\\i\}");
                    tempText = tempText.replace(/\Ĳ/gm, "\{\\IJ\}");
                    tempText = tempText.replace(/\ı/gm, "\{\\i\}");
                    tempText = tempText.replace(/\ɪ/gm, "\{\\textsci\}");
                    tempText = tempText.replace(/\ɨ/gm, "\{\\textbari\}");
                    tempText = tempText.replace(/\Ɩ/gm, "\{\\textIotaafrican\}");
                    tempText = tempText.replace(/\ɩ/gm, "\{\\textiotalatin\}");
                    tempText = tempText.replace(/\ɩ/gm, "\{\\textiota\}");
                    tempText = tempText.replace(/\ʲ/gm, "\{\\j\}");
                    tempText = tempText.replace(/\ȷ/gm, "\{\\j\}");
                    tempText = tempText.replace(/\ʝ/gm, "\{\\textctj\}");
                    tempText = tempText.replace(/\ɟ/gm, "\{\\textbardotlessj\}");
                    tempText = tempText.replace(/\ʄ/gm, "\{\\texthtbardotlessj\}");
                    tempText = tempText.replace(/\Ƙ/gm, "\{\\textKhook\}");
                    tempText = tempText.replace(/\ƙ/gm, "\{\\texthtk\}");
                    tempText = tempText.replace(/\ʞ/gm, "\{\\textturnk\}");
                    tempText = tempText.replace(/\Ł/gm, "\{\\L\}");
                    tempText = tempText.replace(/\ł/gm, "\{\\textbarl\}");
                    tempText = tempText.replace(/\ʟ/gm, "\{\\textscl\}");
                    tempText = tempText.replace(/\ɫ/gm, "\{\\textltilde\}");
                    tempText = tempText.replace(/\ɬ/gm, "\{\\textbeltl\}");
                    tempText = tempText.replace(/\ɭ/gm, "\{\\textrtaill\}");
                    tempText = tempText.replace(/\ɮ/gm, "\{\\textlyoghlig\}");
                    tempText = tempText.replace(/\ƛ/gm, "\{\\textcrlambda\}");
                    tempText = tempText.replace(/\ʎ/gm, "\{\\textturny\}");
                    tempText = tempText.replace(/\ɱ/gm, "\{\\textltailm\}");
                    tempText = tempText.replace(/\ⁿ/gm, "\{\\n\}");
                    tempText = tempText.replace(/\№/gm, "\{\\textnumero\}");
                    tempText = tempText.replace(/\ɴ/gm, "\{\\textscn\}");
                    tempText = tempText.replace(/\Ɲ/gm, "\{\\textNhookleft\}");
                    tempText = tempText.replace(/\ɲ/gm, "\{\\textltailn\}");
                    tempText = tempText.replace(/\ɳ/gm, "\{\\textrtailn\}");
                    tempText = tempText.replace(/\Ŋ/gm, "\{\\NG\}");
                    tempText = tempText.replace(/\º/gm, "\{\\textordmasculine\}");
                    tempText = tempText.replace(/\Ø/gm, "\{\\O\}");
                    tempText = tempText.replace(/\Ơ/gm, "\{\\OHORN\}");
                    tempText = tempText.replace(/\Œ/gm, "\{\\OE\}");
                    tempText = tempText.replace(/\ɶ/gm, "\{\\textscoelig\}");
                    tempText = tempText.replace(/\Ɔ/gm, "\{\\textOopen\}");
                    tempText = tempText.replace(/\ɔ/gm, "\{\\textopeno\}");
                    tempText = tempText.replace(/\ɵ/gm, "\{\\textbaro\}");
                    tempText = tempText.replace(/\ɷ/gm, "\{\\textcloseomega\}");
                    tempText = tempText.replace(/\Ƥ/gm, "\{\\textPhook\}");
                    tempText = tempText.replace(/\ƥ/gm, "\{\\texthtp\}");
                    tempText = tempText.replace(/\ɸ/gm, "\{\\textphi\}");
                    tempText = tempText.replace(/\ʠ/gm, "\{\\texthtq\}");
                    tempText = tempText.replace(/\ĸ/gm, "\{\\textkra\}");
                    tempText = tempText.replace(/\ʳ/gm, "\{\\r\}");
                    tempText = tempText.replace(/\ʀ/gm, "\{\\textscr\}");
                    tempText = tempText.replace(/\ɹ/gm, "\{\\textturnr\}");
                    tempText = tempText.replace(/\ʴ/gm, "\{\\textturnr\}");
                    tempText = tempText.replace(/\ɺ/gm, "\{\\textturnlonglegr\}");
                    tempText = tempText.replace(/\ɻ/gm, "\{\\textturnrrtail\}");
                    tempText = tempText.replace(/\ʵ/gm, "\{\\textturnrrtail\}");
                    tempText = tempText.replace(/\ɼ/gm, "\{\\textlonglegr\}");
                    tempText = tempText.replace(/\ɽ/gm, "\{\\textrtailr\}");
                    tempText = tempText.replace(/\ɾ/gm, "\{\\textfishhookr\}");
                    tempText = tempText.replace(/\ɿ/gm, "\{\\textlhti\}");
                    tempText = tempText.replace(/\ʁ/gm, "\{\\textinvscr\}");
                    tempText = tempText.replace(/\ʶ/gm, "\{\\textinvscr\}");
                    tempText = tempText.replace(/\℠/gm, "\{\\SM\}");
                    tempText = tempText.replace(/\ß/gm, "\{\\ss\}");
                    tempText = tempText.replace(/\ʂ/gm, "\{\\textrtails\}");
                    tempText = tempText.replace(/\Ʃ/gm, "\{\\textEsh\}");
                    tempText = tempText.replace(/\Ʃ/gm, "\{\\ESH\}");
                    tempText = tempText.replace(/\ƪ/gm, "\{\\textlooptoprevesh\}");
                    tempText = tempText.replace(/\ʅ/gm, "\{\\textraisevibyi\}");
                    tempText = tempText.replace(/\ʆ/gm, "\{\\textctesh\}");
                    tempText = tempText.replace(/\ʨ/gm, "\{\\texttctclig\}");
                    tempText = tempText.replace(/\™/gm, "\{\\texttrademark\}");
                    tempText = tempText.replace(/\ʦ/gm, "\{\\texttslig\}");
                    tempText = tempText.replace(/\ʧ/gm, "\{\\textteshlig\}");
                    tempText = tempText.replace(/\ʧ/gm, "\{\\texttesh\}");
                    tempText = tempText.replace(/\Ŧ/gm, "\{\\textTbar\}");
                    tempText = tempText.replace(/\Ŧ/gm, "\{\\textTstroke\}");
                    tempText = tempText.replace(/\ƫ/gm, "\{\\textpalhookbelow\}");
                    tempText = tempText.replace(/\Ƭ/gm, "\{\\textThook\}");
                    tempText = tempText.replace(/\ƭ/gm, "\{\\texthtt\}");
                    tempText = tempText.replace(/\Ʈ/gm, "\{\\textTretroflexhook\}");
                    tempText = tempText.replace(/\ʈ/gm, "\{\\textrtailt\}");
                    tempText = tempText.replace(/\ʇ/gm, "\{\\textturnt\}");
                    tempText = tempText.replace(/\Ư/gm, "\{\\UHORN\}");
                    tempText = tempText.replace(/\ʉ/gm, "\{\\textbaru\}");
                    tempText = tempText.replace(/\ɥ/gm, "\{\\textturnh\}");
                    tempText = tempText.replace(/\ɯ/gm, "\{\\textturnm\}");
                    tempText = tempText.replace(/\ɰ/gm, "\{\\textturnmrleg\}");
                    tempText = tempText.replace(/\ʊ/gm, "\{\\textupsilon\}");
                    tempText = tempText.replace(/\Ʋ/gm, "\{\\textVhook\}");
                    tempText = tempText.replace(/\ʋ/gm, "\{\\textscriptv\}");
                    tempText = tempText.replace(/\ʌ/gm, "\{\\textturnv\}");
                    tempText = tempText.replace(/\ʷ/gm, "\{\\w\}");
                    tempText = tempText.replace(/\ʍ/gm, "\{\\textturnw\}");
                    tempText = tempText.replace(/\ʸ/gm, "\{\\y\}");
                    tempText = tempText.replace(/\ʏ/gm, "\{\\textscy\}");
                    tempText = tempText.replace(/\Ƴ/gm, "\{\\textYhook\}");
                    tempText = tempText.replace(/\ʐ/gm, "\{\\textrtailz\}");
                    tempText = tempText.replace(/\ʑ/gm, "\{\\textctz\}");
                    tempText = tempText.replace(/\Ʒ/gm, "\{\\textEzh\}");
                    tempText = tempText.replace(/\ʒ/gm, "\{\\textyogh\}");
                    tempText = tempText.replace(/\ʓ/gm, "\{\\textctyogh\}");
                    tempText = tempText.replace(/\Þ/gm, "\{\\Thorn\}");
                    tempText = tempText.replace(/\Þ/gm, "\{\\TH\}");
                    tempText = tempText.replace(/\þ/gm, "\{\\textthorn\}");
                    tempText = tempText.replace(/\þ/gm, "\{\\textthornvari\}");
                    tempText = tempText.replace(/\þ/gm, "\{\\textthornvarii\}");
                    tempText = tempText.replace(/\þ/gm, "\{\\textthornvariii\}");
                    tempText = tempText.replace(/\þ/gm, "\{\\textthornvariv\}");
                    tempText = tempText.replace(/\ʔ/gm, "\{\\textglotstop\}");
                    tempText = tempText.replace(/\ʾ/gm, "\{\\hamza\}");
                    tempText = tempText.replace(/\ʕ/gm, "\{\\textrevglotstop\}");
                    tempText = tempText.replace(/\ʿ/gm, "\{\\ain\}");
                    tempText = tempText.replace(/\ʿ/gm, "\{\\ayn\}");
                    tempText = tempText.replace(/\ʡ/gm, "\{\\textbarglotstop\}");
                    tempText = tempText.replace(/\ʢ/gm, "\{\\textbarrevglotstop\}");
                    tempText = tempText.replace(/\ʖ/gm, "\{\\textinvglotstop\}");
                    tempText = tempText.replace(/\ʗ/gm, "\{\\textstretchc\}");
                    tempText = tempText.replace(/\ʘ/gm, "\{\\textbullseye\}");
                    tempText = tempText.replace(/\α/gm, "\{\\alpha\}");
                    tempText = tempText.replace(/\α/gm, "\{\\alpha")
                    tempText = tempText.replace(/\β/gm, "\{\\beta\}");
                    tempText = tempText.replace(/\γ/gm, "\{\\gamma\}");
                    tempText = tempText.replace(/\δ/gm, "\{\\delta\}");
                    tempText = tempText.replace(/\ε/gm, "\{\\varepsilon\}");
                    tempText = tempText.replace(/\Ε/gm, "\{\\Epsilon\}");
                    tempText = tempText.replace(/\ζ/gm, "\{\\zeta\}");
                    tempText = tempText.replace(/\η/gm, "\{\\eta\}");
                    tempText = tempText.replace(/\θ/gm, "\{\\vartheta\}");
                    tempText = tempText.replace(/\Θ/gm, "\{\\Theta\}");
                    tempText = tempText.replace(/\ι/gm, "\{\\iota\}");
                    tempText = tempText.replace(/\κ/gm, "\{\\kappa\}");
                    tempText = tempText.replace(/\λ/gm, "\{\\lambda\}");

                    // looks the same but not μ
                    tempText = tempText.replace(/\µ/gm, "\{\\mu\}");

                    // this is correct μ
                    tempText = tempText.replace(/\μ/gm, "\{\\mu\}");

                    tempText = tempText.replace(/\ν/gm, "\{\\nu\}");
                    tempText = tempText.replace(/\ξ/gm, "\{\\xi\}");
                    tempText = tempText.replace(/\ο/gm, "\{\\omicron\}");
                    tempText = tempText.replace(/\π/gm, "\{\\pi\}");
                    tempText = tempText.replace(/\ϖ/gm, "\{\\varpi\}");
                    tempText = tempText.replace(/\ρ/gm, "\{\\varrho\}");
                    tempText = tempText.replace(/\Ρ/gm, "\{\\Rho\}");
                    tempText = tempText.replace(/\ς/gm, "\{\\varsigma\}");
                    tempText = tempText.replace(/\σ/gm, "\{\\sigma\}");
                    tempText = tempText.replace(/\τ/gm, "\{\\tau\}");
                    tempText = tempText.replace(/\υ/gm, "\{\\upsilon\}");
                    tempText = tempText.replace(/\φ/gm, "\{\\varphi\}");
                    tempText = tempText.replace(/\Φ/gm, "\{\\Phi\}");
                    tempText = tempText.replace(/\χ/gm, "\{\\chi\}");
                    tempText = tempText.replace(/\ψ/gm, "\{\\psi\}");
                    tempText = tempText.replace(/\ω/gm, "\{\\omega\}");

                }

                // --------------------------------------------------
                // section: misc
                // --------------------------------------------------

                // chunk text
                //
                // the function call splits the input text into multiple
                // chunks, each of which is no longer than the specified
                // chunk size, and returns a single string that consists
                // of all the chunks separated by the specified separator
                // string.
                if (document.getElementById("chunkText").checked == true) {
                    if (debug == 1) {
                        console.log("MISC: chunkText");
                    }
                    
                    let chunkSize = document.getElementById("chunkSize").value;
                    let number = Number(chunkSize);
                    
                    // if not an integer greater than 2, set value of
                    // chunkSize
                    if (!(Number.isInteger(number) && number > 2)) {
                        chunkSize = 7500;
                    }

                    // call the function
                    tempText = sliceText(tempText, chunkSize);
                }

                // get first letter: of each word. e.g., "Hi! I have 42 things." → "hih4t"
                //
                // adapated from https://bobbyhadz.com/blog/javascript-get-first-letter-of-each-word-in-string
                //
                // this replaces any non ascii characters with space " "
                //     keeps 0 to 9, A to Z, a to z, and hyphen "-"
                // then replaces hyphen "-" with space in order to split correctly
                //     without this command it fails on hyphenated words
                // then replaces 2 or more spaces with just 1 space
                // then trims any spaces from the beginning or ending
                // then split the string on each space into an array
                // then use Array.map to iterate over the array
                //     the function we passed to the map method gets called with
                //         each element (word) in the array
                //     the map method returns a new array containing the values
                //       the callback function returned
                //     which is the first letter of each word
                // then Array.join method to join the array into a string
                //     the join() method joins an array of strings based on the
                //         provided separator
                //      we want to get a string containing only the letters, so
                //        we passed an empty string to the join() method
                // then convert the characters to lower case
                //
                if (document.getElementById("getFirstLetter").checked == true) {
                    if (debug == 1) {
                        console.log("MISC: getFirstLetter");
                    }

                    tempText = tempText.replaceAll(/[^[0-9A-Za-z-]/gm, " ")
                                    .replaceAll("-", " ")
                                    .replaceAll(" {2,}", " ")
                                    .trim()
                                    .split(" ")
                                    .map(word=>word[0])
                                    .join("").toLowerCase();
                }
                // end get first letter

                // sort text
                //
                // textarea2.value = textarea1.value.split('\n').sort().join('\n');
                //   take the text in textarea1 then split at new lines
                //   then sort the lines, then join them back with new lines
                //   now sorted and assign it to textarea2
                //
                // items.sort((a, b) => a.localeCompare(b));
                //   needed for unicode language differences
                //
                if (document.getElementById("sortText").checked == true) {
                    if (debug == 1) {
                        console.log("MISC: sortText");
                    }
                    if (document.getElementById("sortAscending").checked == true) {
                        if (debug == 1) {
                            console.log("MISC:     sortAscending");
                        }
                        tempText = tempText.split('\n').sort((a,b)=>a.localeCompare(b)).join('\n');
                    } else {
                        if (debug == 1) {
                            console.log("MISC:     sortDescending");
                        }
                        tempText = tempText.split('\n').sort((a,b)=>a.localeCompare(b)).reverse().join('\n');
                    }
                }
                // end sort text


                // sort text brackets
                //
                if (document.getElementById("sortTextBrackets").checked == true) {
                    if (debug == 1) {
                        console.log("MISC: sortTextBrackets");
                    }
                    
                    // replace new lines with spaces
                    tempText = tempText.replace(/(\r|\n|\r\n)/gm, " ");
                    
                    // replace multiple spaces with just one space
                    tempText = tempText.replace(/ +/gm, " ");
                    
                    // get the spacer value
                    spacer = document.getElementById("spacer").value;
                    
                    let matches = tempText.match(/\[(.*?)\]/gm);
                
                    if (matches) {
                        // remove duplicates if the checkbox is checked
                        if (document.getElementById("removeDuplicatesBrackets").checked == true) {
                            try {
                                console.log("MISC:     sortTextBrackets matches yes ES6 support");
                                
                                // ES6 and ECMAScript 6 required
                                //
                                // remove duplicate elements from the matches array
                                //
                                // new Set(matches)
                                //     set is a built-in javascript object that
                                //     stores a collection of unique values, so
                                //     when you create a new set and pass the
                                //     matches array as an argument, it will only
                                //     store unique values from the matches array,
                                //     i.e., duplicates are automatically removed
                                //     when the set is created
                                // [...new Set(matches)]
                                //     spread operator (...) is used to expand the
                                //     unique values from the Set back into an
                                //     array, since the Set object is not an array
                                //     itself, so using the spread operator inside
                                //     square brackets ([]) effectively converts
                                //     the Set back into an array containing only
                                //     the unique values
                                matches = [...new Set(matches)];
                            } catch (error) {
                                console.log("MISC:     sortTextBrackets matches no ES6 support");
                                
                                // call the removeDuplicates function where matches
                                // is an array
                                matches = removeDuplicates(matches);
                            }
                            
                        }
                
                        if (document.getElementById("sortAscendingBrackets").checked == true) {
                            if (debug == 1) {
                                console.log("MISC:     sortAscendingBrackets");
                            }
                            matches.sort((a, b) => a.localeCompare(b));
                        } else {
                            if (debug == 1) {
                                console.log("MISC:     sortDescendingBrackets");
                            }
                            matches.sort((a, b) => a.localeCompare(b)).reverse();
                        }
                
                        // join sorted array elements back into a single string using the spacer
                        tempText = matches.join(spacer);
                
                        // trim
                        tempText = tempText.trim();
                    }
                }

                // --------------------------------------------------
                // section: before ui
                // --------------------------------------------------

                // put text into textarea changed
                // this should be before the ui so that changed textarea is updated
                //   with correct values of lines and characters
                document.getElementById("changed").value = tempText;

                // --------------------------------------------------
                // section: update ui
                // --------------------------------------------------

                // this section updates the lines and character count for the ui

                // text spacer
                spacer = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";

                // check if original textarea is empty
                if (original.value.length < 1) {
                    if (debug == 1) {
                        console.log("UI: original textarea is empty");
                    }

                    // original line length
                    originalLines = 0;

                    // original character length
                    originalCharacters = 0;

                } else {
                    if (debug == 1) {
                        console.log("UI: original textarea is not empty");
                    }

                    // original line length
                    originalLines = original.value.split(/\r|\r\n|\n/).length;

                    // original character length
                    originalCharacters = original.value.length;
                }

                // check if changed textarea is empty
                if ((changed.value.length < 1) || (original.value.length < 1)) {
                    if (debug == 1) {
                        console.log("UI: changed textarea is empty");
                    }

                    // changed line length
                    changedLines = 0;

                    // changed character length
                    changedCharacters = 0;

                } else {
                    if (debug == 1) {
                        console.log("UI: changed textarea is not empty");
                    }

                    // changed line length
                    changedLines = changed.value.split(/\r|\r\n|\n/).length;

                    // changed character length
                    changedCharacters = changed.value.length;
                }

                // update both textarea ui with number of lines and characters

                // update original textarea ui with number of lines and characters
                document.getElementById("originalStatus").innerHTML = spacer + originalLines + " Lines, " + originalCharacters + " Characters";

                // update changed textarea ui with number of lines and characters
                document.getElementById("changedStatus").innerHTML = spacer + changedLines + " Lines, " + changedCharacters + " Characters";

            }
            // end main function
        </script>
        <style>
            /* ui enhancement for buttons */
            .b {
                border: 1px solid white;
                white-space: nowrap;
                word-wrap: normal;
            }

            /* ui enhancement for buttons */
            .b:hover {
                border: 1px solid grey;
                background-color: rgb(240 240 240);
            }
            
            /* fix input checkbox */
            input[type="checkbox"] {
                margin: 4px;
            }
            
            /* ui enhancement to prevent long text wrapping left of the input checkbox */
            label {
                display: flex;
                align-items: flex-start;
                padding: 0.1em;
            }
            
            /* reset wrapping */
            label label {
                display: inline;
                align-items: normal;
                padding: 0em;
            }
            
            /* changes font to monospace for increased readability */
            textarea {
                font-family: monospace;
                font-size: 16px;
            }
            
            /* changes color when hover of textbox */
            textarea:focus {
                background-color: #ffffcc;
            }
        </style>
    <body onload="main()">
        <div id="page">
            <div class="content">
                <!-- ======================================== -->
                <p class="location">
                    <a href="https://dibeneditto.com/">dibeneditto.com</a>
                    ⇒
                    <a href="/tools/">tools</a>
                    ⇒
                    pretty-text &nbsp;
                </p>
                <p>
                    <a href="https://raw.githubusercontent.com/dibeneditto/dibeneditto.github.io/main/tools/pretty-text/index.html">[raw]</a>
                    &nbsp;<a href="https://github.com/dibeneditto/dibeneditto.github.io/edit/main/tools/pretty-text/index.html">[edit]</a>
                </p>
                <h1>pretty-text</h1>
                <p>A simple JavaScript application to automatically format text, HTML, or LaTeX and make text pretty and easier to read. <a href="#how-to-use">[How to Use]</a>. <a href="#privacy">[Privacy]</a>.</p>
                <form id="reset" onchange="main()" onclick="main()" onkeyup="main()">
                	  <!-- section: original (input) -->
                    <b><u>original</u></b>
                    <span id="originalStatus" style="color:grey;">&nbsp;</span>
                    <br>
                    <textarea id="original" cols="80" rows="12" placeholder="&lt;p&gt;&NewLine;&nbsp;&nbsp;&lt;b&gt;paste text here&lt;&sol;b&gt;&NewLine;&NewLine;&NewLine;&lt;&sol;p&gt;"></textarea>
                    <br>
                    <!-- section: buttons -->
                    <input type="button" onclick="checkAll(true)" value="Check All">
                    <input type="button" onclick="checkAll(false)" value="Uncheck All">
                    <input type="reset" onclick="window.location.href='#reset'" value="Reset and Clear">
                    <!-- section: add -->
                    <!-- section: remove -->
                    <fieldset>
                        <legend>
                            <b><u>remove</u></b>
                        </legend>
                        <label for="keepASCIIprintable">
                            <input type="checkbox" id="keepASCIIprintable" checked>
                            <span><b><u>remove</u>:</b> any character that is not a printable ASCII, space, new line, or tab character.</span>
                        </label>
                        <label for="removeLeadingSpaces">
                            <input type="checkbox" id="removeLeadingSpaces" checked>
                            <span><b><u>remove</u>:</b> leading spaces.</span>
                        </label>
                        <label for="removeTrailingSpaces">
                            <input type="checkbox" id="removeTrailingSpaces" checked>
                            <span><b><u>remove</u>:</b> trailing spaces.</span>
                        </label>
                        <label for="removeEmptyLines">
                            <input type="checkbox" id="removeEmptyLines">
                            <span><b><u>remove</u>:</b> empty lines. (Tip: also select remove leading and trailing spaces above.)</span>
                        </label>
                    </fieldset>
                    <!-- section: replace -->
                    <fieldset>
                        <legend>
                            <b><u>replace</u></b>
                        </legend>
                        <label for="replaceChangeCase">
                            <input type="checkbox" id="replaceChangeCase">
                            <span>
                                <span><b><u>replace</u>:</b> change case to</span>
                                <label for="lowerCase">
                                    <span class="b">
                                        <input type="radio" id="lowerCase" name="caseSelected" checked>
                                        lowercase
                                    </span>
                                </label>
                                <label for="upperCase">
                                    <span class="b">
                                        <input type="radio" id="upperCase" name="caseSelected">
                                        UPPERCASE
                                    </span>
                                </label>
                            </span>
                        </label>
                        <label for="replaceHtml">
                            <input type="checkbox" id="replaceHtml" checked>
                            <span><b><u>replace</u>:</b> HTML with new lines</span>
                        </label>
                        <label for="replaceSafeFileName">
                            <input type="checkbox" id="replaceSafeFileName">
                            <span><b><u>replace</u>:</b> make safe file name. <b><u>keep</u>:</b> hyphen, 0 to 9, A to Z, underscore, a to z, then change "file name"."extension" to "file_name"."extens" <a href="#moreInfoReplaceSafeFileName">[more]</a></span>
                        </label>
                        <label for="replaceMultipleSpaces">
                            <input type="checkbox" id="replaceMultipleSpaces" checked>
                            <span><b><u>replace</u>:</b> multiple spaces with just one space</span>
                        </label>
                        <label for="replaceNewLines">
                            <input type="checkbox" id="replaceNewLines">
                            <span><b><u>replace</u>:</b> new lines with space</span>
                        </label>
                        <label for="replaceTab">
                            <input type="checkbox" id="replaceTab" checked>
                            <span><b><u>replace</u>:</b> tab with space</span>
                        </label>
                        <label for="replaceX1WithY1">
                            <input type="checkbox" id="replaceX1WithY1">
                            <span>
                                <span><b><u>replace</u>:</b> </span>
                                <span class="b">simple <input type="text" id="X1" value=" " size="2"></span>
                                <span class="b">with <input type="text" id="Y1" value="_" size="2"></span>
                            </span>
                        </label>
                        <label for="replaceXOrMoreNewLines">
                            <input type="checkbox" id="replaceXOrMoreNewLines" checked>
                            <span>
                                <span><b><u>replace</u>:</b> new lines</span>
                                <span class="b"><b>from original:</b> <input type="text" id="originalLines" value="1" size="2"> (or more)</span>
                                <span class="b"><b>to changed:</b> <input type="text" id="changedLines" value="1" size="2"></span>
                            </span>
                        </label>
                    </fieldset>
                    <!-- section: LaTeX related -->
                    <fieldset>
                        <legend>
                            <b><u>LaTex related</u></b>
                        </legend>
                        <label for="latexAddLeadingSlashes">
                            <input type="checkbox" id="latexAddLeadingSlashes">
                            <span><b><u>add</u>:</b> leading slashes to each line, \\[space]&nbsp;</span>
                        </label>
                        <label for="latexMakeLaTeXPretty">
                            <input type="checkbox" id="latexMakeLaTeXPretty">
                            <span><b><u>make</u>:</b> LaTex Pretty. align, auto size [] and (), prevent numbered. eq.</span>
                        </label>
                        <label for="latexUtf8ToLatex">
                            <input type="checkbox" id="latexUtf8ToLatex">
                            <span><b><u>replace</u>:</b> most utf-8 characters with LaTeX equivalents except: # $ % &~ _ ^ \ { }</span>
                        </label>
                    </fieldset>
                    <!-- section: misc -->
                    <fieldset>
                        <legend>
                            <b><u>misc</u></b>
                        </legend>
                        <label for="chunkText">
                            <input type="checkbox" id="chunkText">
                            <span>
                                <span><b><u>chunk text</u>:</b> break text up into</span>
                                <input type="text" id="chunkSize" value="7500" size="2">
                                <span>character chunks</span>
                            </span>
                        </label>
                        <label for="getFirstLetter">
                            <input type="checkbox" id="getFirstLetter">
                            <span><b><u>get first letter</u>:</b> of each word. e.g., "Hi! I have 42 things." → "hih4t"</span>
                        </label>
                        <label for="sortText">
                            <input type="checkbox" id="sortText">
                            <span>
                                <span><b><u>sort text</u>:</b></span>
                                <label for="sortAscending">
                                    <span class="b">
                                        <input type="radio" id="sortAscending" name="sortDirection" checked>
                                        <span>Ascending (forward)</span>
                                    </span>
                                </label>
                                <label for="sortDescending">
                                    <span class="b">
                                        <input type="radio" id="sortDescending" name="sortDirection">
                                        <span>Descending (reverse)</span>
                                    </span>
                                </label>
                            </span>
                        </label>
                        <label for="sortTextBrackets">
                            <input type="checkbox" id="sortTextBrackets">
                            <span>
                                <b><u>sort text brackets</u>:</b>
                                <label for="sortAscendingBrackets">
                                    <span class="b">
                                        <input type="radio" id="sortAscendingBrackets" name="sortDirectionBrackets" checked>
                                        <span>Ascending (forward)</span>
                                    </span>
                                </label>
                                <label for="sortDescendingBrackets">
                                    <span class="b">
                                        <input type="radio" id="sortDescendingBrackets" name="sortDirectionBrackets">
                                        <span>Descending (reverse)</span>
                                    </span>
                                </label>
                                <label for="spacer">
                                    <span class="b">
                                        <span>Spacer:</span>
                                        <input type="text" id="spacer" value=" " size="2">
                                    </span>
                                </label>
                                <label for="removeDuplicatesBrackets">
                                    <span class="b">
                                        <span>Remove Duplicates:</span>
                                        <input type="checkbox" id="removeDuplicatesBrackets" checked>
                                    </span>
                                </label>
                            </span>
                        </label>
                    </fieldset>
                    <!-- section: changed (output) -->
                    <b><u>changed</u></b>
                    <span id="changedStatus" style="color:grey;">&nbsp;</span>
                    <br>
                    <textarea id="changed" onclick="select()" cols="80" rows="12" placeholder="paste text here"></textarea>
                    <br>
                    <p>&nbsp;</p>
                    <h2 id="how-to-use">How to use:</h2>
                    <ol>
                        <li>Select some text from anything: a PDF document, a Word Document, a webpage, HTML, etc.</li>
                        <li>Copy it with CTRL + C.</li>
                        <li>Paste it with CTRL + V into the pretty-text original textbox at the top of the page.</li>
                        <li>Use the checkboxes to change different options on how you want the text to be changed.</li>
                        <li>Scroll down to the bottom of the page. Your original text will be processed, cleaned up, and displayed at the bottom of the page.</li>
                        <li>Copy the changed text with CTRL + C.</li>
                        <li>Paste it with CTRL + V into your new document.</li>
                    </ol>
                    <p><a href="#">[top]</a></p>
                    <p>&nbsp;</p>
                    <h2 id="privacy">Privacy</h2>
                    <p>Your text is only modified while using this webpage. It is not stored or sent anywhere else.</p>
                    <p><a href="#">[top]</a></p>
                    <p>&nbsp;</p>
                    <h2 id="more-information">More Information</h2>
                    <p id="moreInfoReplaceSafeFileName"><b>Safe File Names</b>: filenames should not be more than 120 characters, the period counts as 1 character, the extension should not be more than 6 characters, the operating system adds a null terminating character making a total of 128 characters. Why? <a href="https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file">Windows</a> Also, the way the code works is that it will always look for the last period, and any text before the period is the "filename", and text after the period will be the "extension". </p>
                    <p><a href="#">[top]</a></p>
                    <p>&nbsp;</p>
                    <!-- ======================================== -->
                    <p>&nbsp;</p>
                    <hr>
                    <p>
                        &copy;&nbsp;Lukas W. DiBeneditto, <a href="https://dibeneditto.com/">dibeneditto.com</a>
                    </p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                    <p>&nbsp;</p>
                  
            </div>
            <!-- end div class="content" -->
        </div>
        <!-- end div id="page" -->
    </body>
</html>
